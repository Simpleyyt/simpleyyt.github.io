---
layout: post
title: 【运维】proxmox ve 与 vSphere 对比
tagline: by 郑璐璐
categories: 操作系统
tag:
---

我曾经捣鼓过 vSphere 相关的内容，写过一个专栏，起码有些许的成绩了，支撑起了公司大大小小的项目，虽然出过问题，但最后都有惊无险的熬了过来。
<!--more-->
也算是基于兴趣，对这方面一直都有关注。这几天发现了一个开源的系统: proxmox ve (为了方便，下面我就写 proxmox 系统了).
在了解它之后，发现这个系统软件还真的不错，后期看看能不能推进一下这个方案，争取把这个方案落地。

为什么想要推进这个方案，让它落地呢。我主要有以下几点考虑:
1 ， proxmox ve 是开源的，而 vSphere 是收费的。
开源和收费，我觉得都没多大关系，只要符合自己公司当前发展的需求，我觉得付费也是 OK 的。但是开源的在于，它的氛围很不错，而且我看了一下，遇到的问题都有人写出过解决方案，这一点我是很看好的.(不过大部分解决方案都是英文，说明了英语的重要性)
vSphere 产品遇到问题的时候，一般查找不到相关解决资料，都是自己各种尝试，不知道哪儿懵对了，机器就好了，排查问题的时候，真的是靠个人经验。这一点，从我博客里面就能看出来，访问量最多的就是写 vSphere 的那几篇文章。说明在这方面沉淀的人少，所以搜索引擎把我的文章推出来。
而 proxmox ve 是开源的，这样就比较能够放心让别人大胆尝试，不至于遇到问题的时候，总是那几个人上，每个人都有锻炼的机会。
当然了，如果你真的比较土豪，购买 proxmox ve 系统也是 OK 的。

2 ， proxmox 虚拟机使用的是 kvm ，容器则使用的是 LXC( Linux Container ),也就是说，容器这方面相当于原生的，对于各类常见的应用软件容器，就不用再单独创建 Linux 虚拟机，可以直接在虚拟机上安装相关容器即可。
但是 proxmox 对物理服务器的限制是设定在 32 台物理主机，所以如果物理主机比较多的话，而且还需要统一集中在一个集群管理，它可能就不是最好的解决方案了。
但是就目前公司的需求来说，我觉得使用 proxmox 还是能够满足需求的。

3 ，proxmox 支持市面上几乎所有的主流存储协议，特别是对 ceph 分布式存储的支持。这意味着，通过 ceph 可以实现虚拟机的 HA 功能，虚拟机动态迁移等高级特性，而且我觉得在以后，大数据是一个趋势，所以能够支持分布式存储的话，这一个优点无疑是比较吸引人的。

4 ， vSphere 出于商业收费和 license 的考虑，将很多功能进行了拆分，安装完 ESXi 之后，只能使用基本功能，如果想要使用高级功能，必须安装 vcenter 来进行相关操作才可以。
相比较之下， proxmox 就友好很多，安装完成之后，所有集群的物理节点都是平等的，通过每个物理节点都可以管理整个集群。
如果只是从稳定性来看的话， proxmox ve 和 vSphere 可以说是旗鼓相当，但是硬件兼容性则没有 proxmox 好，而且在 proxmox 中没有主次节点之分，所以它能够最大化的提高硬件的使用效率。

5 ，这是最重要的一个原因: proxmox 相对于 vSphere 来说，它少了一层。
vSphere 的架构是:在服务器上安装 ESXi 系统，然后通过 vcenter 去管理，通过 vcenter 来创建虚拟机，管理集群等。
而 proxmox 架构是:在服务器上安装 proxmox 系统之后，就可以在上面创建虚拟机，随便访问一台物理节点，都可以来管理整个集群。
发现不同了嘛?好吧，我觉得你可能没发现。
proxmox 不需要经过 vcenter 这一层的管理，也就是少了一层通信。这一层通信少了之后，就可能将整个集群的读取速度，反应速度提升一个层次。
如果非要举个例子来说明的话(这个例子可能不太恰当，但是想不起来合适的了),就相当于你的笔记本从原来用机械硬盘，到后来改用固态，那种速度之间的差别，你可以想想。

以上就是一些思考。