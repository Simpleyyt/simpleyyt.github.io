---
layout: post
categories: Java ç³»åˆ—
title: Java åˆåŒå’å•å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œè¿™ä¹ˆå¤šç‰ˆæœ¬å¦‚ä½•çµæ´»ç®¡ç†ï¼Ÿ
tagline: by å°é»‘
tags: 
  - å°é»‘
---

## å‰è¨€

ä¸çŸ¥ä¸è§‰ JDK13 å‘å¸ƒå·²æœ‰ä¸¤ä¸ªæœˆï¼Œä¸çŸ¥é“å„ä½æœ‰æ²¡æœ‰ä¸‹è½½å­¦ä¹ ä½“éªŒä¸€ç•ªï¼Ÿæ¯æ¬¡ä¸‹è½½å®‰è£…ä¹‹åï¼Œéœ€è¦é‡æ–°é…ç½®ä¸€ä¸‹ Java ç¯å¢ƒå˜é‡ã€‚ç­‰åˆ°è¿è¡Œå¹³æ—¶çš„é¡¹ç›®åˆéœ€è¦åˆ‡å›ä¹‹å‰ JDK ç‰ˆæœ¬ï¼Œè¿™åˆéœ€è¦é‡æ–°ç¯å¢ƒå˜é‡ã€‚è¿™ä¹ˆé‡å¤é…ç½®æ˜¾ç„¶éå¸¸ä½æ•ˆï¼Œåˆä¸èƒ½çµæ´»åˆ‡æ¢ç‰ˆæœ¬ã€‚

æ‰€å¹¸é€šè¿‡ä¸‡èƒ½ Google æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨ **jenv** ç®¡ç† JDK ç‰ˆæœ¬ã€‚

<!--more-->

## jenv ä»‹ç»

ç†Ÿæ‚‰ Ruby çš„åŒå­¦ï¼Œåº”è¯¥ä¼šè§‰å¾—æ¯”è¾ƒçœ¼ç†Ÿï¼Œjenv å°±æ˜¯ Java å¹³å°çš„ `rbenv` å·¥å…·ã€‚

jenv æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥åœ¨ Linux/OS X å¹³å°ä½¿ç”¨ï¼Œå¯ä»¥ç®¡ç†å¤šä¸ªç‰ˆæœ¬ JDKï¼Œæ–¹ä¾¿åœ¨å¤šä¸ªç‰ˆæœ¬ JDK ä¹‹é—´åˆ‡æ¢ï¼Œå¦å¤–å…¶è¿˜å¯ä»¥è®¾ç½® `JAVA_HOME` ç¯å¢ƒå˜é‡ã€‚

> Windows çœŸçš„ä¼¤ä¸èµ· ğŸ˜­

ä½¿ç”¨ jenv æœ‰ä¸€ä¸ªå‰æï¼Œå¿…é¡»æå‰å®‰è£… JDKï¼Œå…¶ä¸æä¾›ä¸‹è½½å®‰è£… JDK çš„åŠŸèƒ½ã€‚MacOSX å¹³å°å¯ä»¥æå‰ä½¿ç”¨ `brew` å®‰è£… JDKã€‚

## jenv å®‰è£…

**æ‰‹åŠ¨å®‰è£…**

é¦–å…ˆä¸‹è½½ jenv æºç¨‹åº

`git clone https://github.com/jenv/jenv.git ~/.jenv`

ç„¶åå†å°† jenv å‘½ä»¤è·¯å¾„æ”¾å…¥ Shell é…ç½®æ–‡ä»¶ä¸­ã€‚

è‹¥ä½¿ç”¨ Shell ä¸º `bash`ï¼š

```sh
echo 'export PATH="$HOME/.jenv/bin:$PATH"' >> ~/.bash_profile   
echo 'eval "$(jenv init -)"' >> ~/.bash_profile
source ~/.bash_profile
```

è‹¥ä½¿ç”¨ Shell ä¸º `zsh`

```sh
echo 'export PATH="$HOME/.jenv/bin:$PATH"' >> ~/.zshrc  
echo 'eval "$(jenv init -)"' >> ~/.zshrc
source ~/.zshrc
```

**è‡ªåŠ¨å®‰è£…**

è‹¥ä½¿ç”¨ MacOSXï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `brew` å®‰è£…ï¼š

```sh
brew install jenv
```

**jenv æ ¡éªŒ**

å®‰è£… jenv ä¹‹åï¼Œå¯ä»¥è¿è¡Œ `jenv doctor` æ£€æŸ¥æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚ä»¥ä¸‹ä¸ºæˆ‘æœ¬æœº MacOSX è¾“å‡ºï¼š

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/image-eaa0719c.png)

åˆšå®‰è£…å°ä¼™ä¼´è¿è¡Œ  `jenv doctor` ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°è¾“å‡ºï¼š

```sh
[ERROR]	Java binary in path is not in the jenv shims.
```

è¿™ä»£è¡¨è¿˜æœªæ­£ç¡®æ·»åŠ  JDKï¼Œéœ€è¦è¿è¡Œä¸‹é¢æŒ‡ä»¤æ·»åŠ  JDKã€‚

## jenv é…ç½®

**JDK é…ç½®**

è¿è¡Œ `jenv add jdk_path`,å°† JDK äº¤ç»™ jenv ç®¡ç†ã€‚

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/image-0a2a7afb.png)

å¯èƒ½æœ‰äº›å°ä¼™ä¼´å¹¶ä¸çŸ¥é“ JDK å®‰è£…è·¯å¾„ï¼Œè‹¥æ˜¯ MacOSXï¼ŒJDK æ˜¯é€šè¿‡ Oracle æä¾›å®‰è£…åŒ…æˆ–è€…é€šè¿‡ `brew` å®‰è£…ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œ `/usr/libexec/java_home -V` æŸ¥æ‰¾ JDK è·¯å¾„ã€‚

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/image-c4223657.png)

è‹¥ä¸æ˜¯é€šè¿‡ä»¥ä¸Šæ–¹å¼ï¼Œæˆ–è€…ä¸º Linux å¹³å°ï¼Œå¯ä»¥å…ˆé€šè¿‡ `which java` æˆ–è€… `whereis java` æ‰¾å‡ºå‘½ä»¤è·¯å¾„ã€‚ç„¶åé€šè¿‡ä½¿ç”¨ `ls -l` æŸ¥çœ‹å‘½åçš„å®é™…è·¯å¾„ã€‚

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/IMG6296-b3958338.PNG)


**JAVA_HOME é…ç½®**

æœ‰äº›åº”ç”¨ç¨‹åºå°†ä¼šè¯»å–ç³»ç»Ÿ `${JAVA_HOME}` ç¯å¢ƒå˜é‡ï¼Œé€šè¿‡å®‰è£… jenv æ’ä»¶ï¼Œåˆ‡æ¢ JDK ç‰ˆæœ¬æ—¶ï¼Œå°†ä¼šåŒæ­¥è®¾ç½®  `${JAVA_HOME}`  å˜é‡ã€‚

```
jenv enable-plugin export
## è¿è¡Œè¿™ä¸ªæ‰ä¼šç”Ÿæ•ˆ
exec $SHELL -l
```

## jenv ä½¿ç”¨æ•™ç¨‹

### jenv versions

æŸ¥çœ‹å½“å‰ç³»ç»Ÿ jenv ç®¡ç†æ‰€æœ‰ JDK ç‰ˆæœ¬ã€‚

```sh
jenv versions
```

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/image-a57bc321.png)

### jenv local

é€šè¿‡ä¸Šé¢å‘½ä»¤ï¼Œæˆ‘ä»¬çŸ¥é“å½“å‰ç³»ç»Ÿæ‰€æœ‰ JDK ç‰ˆæœ¬ä¹‹åï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤åˆ‡æ¢ JDK ç‰ˆæœ¬ã€‚

**JDK ç‰ˆæœ¬åˆ‡æ¢ JDK1.7**

```sh
jenv local 1.7
```

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/image-dddd18d3.png)

è¿™é‡Œéœ€è¦æ³¨æ„çš„ï¼Œ`jenv local` åˆ‡æ¢ JDK ç‰ˆæœ¬åªå¯¹å½“å‰æ–‡ä»¶å¤¹æœ‰æ•ˆ,å¦‚æœåˆ‡æ¢åˆ°å…¶ä»–æ–‡ä»¶å¤¹ï¼Œå°†ä¼šåˆ‡æ¢ä¼šå½“å‰é»˜è®¤ JDK ç‰ˆæœ¬ã€‚

### jenv shell

ä½¿ç”¨ `jenv shell`  ä½¿åˆ‡æ¢çš„ JDK ç‰ˆæœ¬å¯¹æ•´ä¸ª Shell session æœ‰æ•ˆã€‚é‡å¯ Shell ç»ˆç«¯æˆ–é‡æ–°æ‰“å¼€æ–°çš„ Shell ç»ˆç«¯ï¼Œè¯¥é…ç½®å¤±æ•ˆã€‚

```sh
jenv shell 9.0
```

### jenv global

`jenv global` å°†ä¼šè®¾ç½®ä¸€ä¸ªå…¨å±€é»˜è®¤çš„ JDK ç‰ˆæœ¬ï¼Œå³ä½¿é‡å¯ Shell çª—å£ï¼Œè¯¥é…ç½®ä¹Ÿä¸ä¼šæ”¹å˜ã€‚

```sh
jenv global 9.0
```

## jenv å°é—®é¢˜
ä¸Šé¢å‡ ä¸ªæ˜¯ jenv ç»å¸¸ä½¿ç”¨çš„æŒ‡ä»¤ï¼Œè‹¥æƒ³äº†è§£ jenv å…¶ä»–æŒ‡ä»¤ï¼Œå¯ä»¥é€šè¿‡ `jenv commands` æŸ¥æ‰¾å…¶ä»–æŒ‡ä»¤ã€‚

ä½¿ç”¨ jenv è¿‡ç¨‹å¯èƒ½ä¼šå‘ç°ï¼Œå½“åˆ‡æ¢ JDK ç‰ˆæœ¬ä¹‹åï¼Œ `${JAVA_HOME}` ç¯å¢ƒå˜é‡æ²¡æœ‰æ”¹å˜ï¼Œè¿˜æ˜¯ä¸Šä¸€ä¸ª JDK ç‰ˆæœ¬é…ç½®ã€‚

![](http://www.justdojava.com/assets/images/2019/java/image_andyxh/20191120/image-a5355a2b.png)

è¿™æ—¶å¯ä»¥è¿è¡Œ  `exec $SHELL -l` ï¼Œ `${JAVA_HOME}` å°†ä¼šå˜æˆå½“å‰ç‰ˆæœ¬è·¯å¾„ã€‚

## æœ€å

åšä¸ªå°è°ƒæŸ¥ï¼Œä½ è¿˜åœ¨ç”¨é‚£ä¸ªç‰ˆæœ¬ JDKï¼Ÿå„ä½å°ä¼™ä¼´å¯ä»¥ç•™è¨€ä¸€ä¸‹ï¼Œå˜¿å˜¿~




